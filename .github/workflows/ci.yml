name: ci

on: [ push, pull_request ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Clone repository
        uses: actions/checkout@v3

      - name: install yt-dlp
        run: |
          sudo curl -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /usr/local/bin/yt-dlp
          sudo chmod a+rx /usr/local/bin/yt-dlp

      - name: install transfer
        run: |
          curl -sL https://git.io/file-transfer | sh 

      - name: download
        run: |
          yt-dlp --config-location config.txt

      - name: upload
        run: |
          ./transfer gof ./downloads/